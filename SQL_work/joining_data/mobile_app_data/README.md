# Работа с данными мобильного приложения крупной розничной сети

## Описание данных

У пользователя может быть два идентификатора – UserID и DeviceID. В таблице checks есть только UserID, в остальных – только DeviceID. Во вспомогательной таблице devices есть и UserID, и DeviceID. 

**installs** — содержит данные об установках приложения по дням.

* DeviceID — идентификатор устройства, на которое было установлено приложение;
* InstallationDate — дата установки приложения;
* InstallCost — цена установки приложения в рублях;
* Platform — платформа, на которой было установлено приложение (iOS/ Android);
* Source — источник установки приложения (магазин приложения/ рекламная система/ переход с сайта).

**events** — содержит данные о том, как активно пользователи просматривают товары в приложении по дням.

* DeviceID — идентификатор устройства, на котором используется приложение;
* AppPlatform — платформа, на которой используется приложение (iOS/ Android);
* EventDate — дата, за которую собрана статистика;
* events — количество просмотров всех товаров за этот день у этого DeviceID.

**checks** — содержит данные о покупках пользователей в приложении по дням

* UserID — идентификатор пользователя;
* Rub — суммарный чек пользователя на дату;
* BuyDate — дата, за которую собрана статистика.

**devices** — вспомогательная таблица, содержит данные и о UserID, и о DeviceID



## Задачи проекта

1. C помощью JOIN дополнить таблицу events данными о UserID пользователей из таблицы devices.
2. Проверить, пользователи пришедшие из какого источника совершили наибольшее число покупок.
3. Выяснить, сколько всего уникальных юзеров совершили покупки в приложении в разрезе каждого источника.
4. По каждому источнику посчитать общую выручку, а также минимальный, максимальный и средний чек.
5. Вывести идентификаторы устройств пользователей, которые совершили как минимум одну покупку за октябрь 2019. Использовать сортировку по возрастанию DeviceID.
6. Проверить, сколько товаров в среднем просматривают пользователи с разных платформ, и пришедшие из разных источников. Отсортировать полученную табличку по убыванию среднего числа просмотров. 
7. Посчитать число уникальных DeviceID в инсталлах, для которых присутствуют просмотры в таблице events с разбивкой по платформам. 

## Стек технологий
* СУБД ClickHouse
* Tabix

